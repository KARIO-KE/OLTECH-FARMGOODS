{% extends 'me_generic.html' %}

{% block content %}
<div class="container">
    <div class="card shadow-lg p-4 w-100" style="max-width: 500px; border-radius: 12px;">
        <h2 class="text-center text-primary mb-4">Forgot Password</h2>

        <!-- Display any messages -->
        {% if messages %}
            <div class="alert alert-info" id="message-alert" style="display:none;">
                <ul>
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            </div>

            <!-- JavaScript to show alert and redirect -->
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    // Show the alert message
                    document.getElementById('message-alert').style.display = 'block';

                    // Redirect to the login page after 5 seconds
                    setTimeout(function() {
                        window.location.href = "{% url 'accounts:login' %}";
                    }, 5000);  // 5000ms = 5 seconds
                });
            </script>
        {% endif %}

        <form method="POST" id="forgot-password-form">
            {% csrf_token %}
            {{ form.as_p }}

            <button type="submit" class="btn btn-orange w-100" style="border-radius: 8px; padding: 12px; background-color: #FF7043; border: none; color: white;">Submit</button>
        </form>
    </div>
</div>
{% endblock %}
